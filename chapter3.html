<html>

<head>
   <title>Chapter 3</title>
   <link rel="icon" href="data:;base64,iVBORw0KGgo="/>

   <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>

   <script src="common.js"></script>
   <link rel="stylesheet" type="text/css" href="common.css"/>

   <script src="midi_devices.js"></script>
   <script src="quizzer.js"></script>

   <script src="ui.js"></script>
   <link rel="stylesheet" type="text/css" href="ui.css"/>

   <script src="quizz_widgets.js"></script>
   <link rel="stylesheet" type="text/css" href="quizz_widgets.css"/>

   <script src="keyboard.js"></script>
   <link rel="stylesheet" type="text/css" href="keyboard.css"/>

   <script src="vexflow-min.js"></script>
   <script src="score.js"></script>


   <script src="chapter3.js"></script>
   <link rel="stylesheet" type="text/css" href="chapter3.css"/>
   <script>

      var piano = null;
      var app = angular.module('Chapter3', ['keyboard']);
      app.controller('gameCtrl', function($scope, $http, $compile) {
         $scope.init = function() {
            piano = new Keyboard.Range(document.getElementById('keyboard'), [4, 5], $compile, $scope);
         };
      });

 
      var game = null;

      var stage1 = function() {
         if (game == null) { game = new Chapter3.Stages(piano); }
         game.stage1();
      };
      var stage2 = function() {
         if (game == null) { game = new Chapter3.Stages(piano); }
         game.stage2();
      };
      var stage3 = function() {
         if (game == null) { game = new Chapter3.Stages(piano); }
         game.stage3();
      };
      var stage4 = function() {
         if (game == null) { game = new Chapter3.Stages(piano); }
         game.stage4();
      };




      window.onload = function() {
      };

   </script>
</head>


<body data-ng-app='Chapter3'> 
   <div data-ng-controller='gameCtrl' data-ng-init='init();'>
      <div id="user-points">
         <span>Score: 0</span>
      </div>

      <div id='timer-container'>
         <div id='timer' class="progress">
            <div class="caption">0</div>
            <div class="boundary">
               <div class="halfcirc"></div>
               <div class="halfcirc second"></div>
            </div>
         </div>
      </div>

      <div id='quizz'>
         <div class='question-box note-name'><span></span></div>
         <div class='question-box note-symbol'>
            <canvas id='stave' width='150' height='150'></canvas>
         </div>
      </div>


      <div id='keyboard'>
         <div class='feedback none'></div>
      </div>

      <div id='stages'>
         <div class='stage' onclick='stage1();'>1</div>
         <div class='stage' onclick='stage2();'>2</div>
         <div class='stage' onclick='stage3();'>3</div>
         <div class='stage' onclick='stage4();'>4</div>
      </div>

      <div id='midi-devices'>
         <ul id='devices-list' class='devices'></ul>
      </div>
</body>

</html>
